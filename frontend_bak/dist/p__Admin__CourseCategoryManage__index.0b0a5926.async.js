"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[817],{43585:function(S,j,e){e.d(j,{$l:function(){return I},PE:function(){return U},ng:function(){return D},tB:function(){return R}});var T=e(15009),m=e.n(T),M=e(97857),i=e.n(M),B=e(99289),g=e.n(B),P=e(34955);function I(u,t){return b.apply(this,arguments)}function b(){return b=g()(m()().mark(function u(t,f){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.Z)("/api/course/category/add",i()({method:"POST",headers:{"Content-Type":"application/json"},data:t},f||{})));case 1:case"end":return r.stop()}},u)})),b.apply(this,arguments)}function R(u,t){return C.apply(this,arguments)}function C(){return C=g()(m()().mark(function u(t,f){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.Z)("/api/course/category/delete",i()({method:"POST",headers:{"Content-Type":"application/json"},data:t},f||{})));case 1:case"end":return r.stop()}},u)})),C.apply(this,arguments)}function U(u,t){return v.apply(this,arguments)}function v(){return v=g()(m()().mark(function u(t,f){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.Z)("/api/course/category/list/page/vo",i()({method:"POST",headers:{"Content-Type":"application/json"},data:t},f||{})));case 1:case"end":return r.stop()}},u)})),v.apply(this,arguments)}function D(u,t){return _.apply(this,arguments)}function _(){return _=g()(m()().mark(function u(t,f){return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,P.Z)("/api/course/category/update",i()({method:"POST",headers:{"Content-Type":"application/json"},data:t},f||{})));case 1:case"end":return r.stop()}},u)})),_.apply(this,arguments)}},11768:function(S,j,e){e.r(j);var T=e(97857),m=e.n(T),M=e(15009),i=e.n(M),B=e(99289),g=e.n(B),P=e(5574),I=e.n(P),b=e(43585),R=e(34955),C=e(96906),U=e(51930),v=e(37476),D=e(5966),_=e(2453),u=e(67294),t=e(85893),f=[{dataIndex:"id",valueType:"index",width:48,title:"\u5E8F\u53F7",hideInSearch:!0,editable:!1,render:function(r,E,O){return O+1}},{title:"\u7C7B\u522BID",dataIndex:"categoryId",hideInSearch:!0,editable:!1},{title:"\u8BFE\u7A0B\u7C7B\u522B\u540D\u79F0",dataIndex:"categoryName",copyable:!0,ellipsis:!0,formItemProps:{rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BFE\u7A0B\u7C7B\u522B\u540D\u79F0"}]}},{title:"\u7C7B\u522B\u63CF\u8FF0",dataIndex:"categoryDesc",ellipsis:!0,hideInSearch:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",hideInSearch:!0,editable:!1},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",valueType:"dateTime",hideInSearch:!0,editable:!1},{title:"\u64CD\u4F5C",valueType:"option",render:function(r,E,O,c){return[(0,t.jsx)("a",{onClick:function(){if(E.categoryId){var a;c==null||(a=c.startEditable)===null||a===void 0||a.call(c,E.categoryId)}},children:"\u7F16\u8F91"},"editable"),(0,t.jsx)(C.Z,{onSelect:function(a){a==="delete"&&E.categoryId&&(0,b.tB)({id:E.categoryId}).then(function(n){console.log("\u5220\u9664\u54CD\u5E94:",n),n?(_.ZP.success("\u5220\u9664\u6210\u529F"),c==null||c.reload()):_.ZP.error("\u5220\u9664\u5931\u8D25")}).catch(function(n){console.error("\u5220\u9664\u9519\u8BEF:",n),_.ZP.error("\u5220\u9664\u5931\u8D25")})},menus:[{key:"delete",name:"\u5220\u9664"}]},"actionGroup")]}}];j.default=function(){var h=(0,u.useRef)(),r=(0,u.useState)(!1),E=I()(r,2),O=E[0],c=E[1],A=function(){var a=g()(i()().mark(function n(o){var y,d;return i()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,b.$l)(o);case 3:y=l.sent,y?(_.ZP.success("\u6DFB\u52A0\u6210\u529F"),c(!1),(d=h.current)===null||d===void 0||d.reload()):_.ZP.error("\u6DFB\u52A0\u5931\u8D25"),l.next=10;break;case 7:l.prev=7,l.t0=l.catch(0),_.ZP.error("\u6DFB\u52A0\u5F02\u5E38");case 10:case"end":return l.stop()}},n,null,[[0,7]])}));return function(o){return a.apply(this,arguments)}}();return(0,t.jsxs)("div",{style:{minHeight:"calc(100vh - 120px)",paddingBottom:120,marginBottom:60},children:[(0,t.jsx)(U.Z,{columns:f,actionRef:h,cardBordered:!0,toolBarRender:function(){return[(0,t.jsx)("a",{onClick:function(){c(!0)},children:"\u65B0\u589E\u8BFE\u7A0B\u7C7B\u522B"},"add")]},request:function(){var a=g()(i()().mark(function n(o){var y;return i()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("\u8BF7\u6C42\u53C2\u6570:",o),s.prev=1,s.next=4,(0,R.Z)("/api/course/category/list/page/vo",{method:"POST",data:{current:o.current,pageSize:o.pageSize,categoryName:o.categoryName}});case 4:return y=s.sent,console.log("\u54CD\u5E94\u6570\u636E:",y),s.abrupt("return",{data:y.records||[],success:!0,total:Number(y.total)||0});case 9:return s.prev=9,s.t0=s.catch(1),console.error("\u83B7\u53D6\u8BFE\u7A0B\u7C7B\u522B\u5217\u8868\u5931\u8D25:",s.t0),_.ZP.error("\u83B7\u53D6\u8BFE\u7A0B\u7C7B\u522B\u5217\u8868\u5931\u8D25"),s.abrupt("return",{data:[],success:!1,total:0});case 14:case"end":return s.stop()}},n,null,[[1,9]])}));return function(n){return a.apply(this,arguments)}}(),editable:{type:"single",onSave:function(){var a=g()(i()().mark(function o(y,d){var s,l;return i()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,(0,b.ng)({categoryId:d.categoryId,categoryName:d.categoryName,categoryDesc:d.categoryDesc});case 3:s=p.sent,console.log("\u66F4\u65B0\u54CD\u5E94:",s),s?(_.ZP.success("\u66F4\u65B0\u6210\u529F"),(l=h.current)===null||l===void 0||l.reload()):_.ZP.error("\u66F4\u65B0\u5931\u8D25"),p.next=12;break;case 8:p.prev=8,p.t0=p.catch(0),console.error("\u66F4\u65B0\u9519\u8BEF:",p.t0),_.ZP.error("\u66F4\u65B0\u5F02\u5E38");case 12:case"end":return p.stop()}},o,null,[[0,8]])}));function n(o,y){return a.apply(this,arguments)}return n}()},columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage",defaultValue:{option:{fixed:"right",disable:!0}}},rowKey:"categoryId",search:{labelWidth:"auto"},options:{setting:{listsHeight:400}},form:{syncToUrl:function(n,o){return o==="get"?m()(m()({},n),{},{created_at:[n.startTime,n.endTime]}):n}},pagination:{pageSize:5,onChange:function(n){return console.log("\u5F53\u524D\u9875:",n)}},dateFormatter:"string",headerTitle:""}),(0,t.jsxs)(v.Y,{title:"\u65B0\u589E\u8BFE\u7A0B\u7C7B\u522B",width:400,open:O,onOpenChange:c,onFinish:function(){var a=g()(i()().mark(function n(o){return i()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,A(o);case 2:case"end":return d.stop()}},n)}));return function(n){return a.apply(this,arguments)}}(),children:[(0,t.jsx)(D.Z,{name:"categoryName",label:"\u7C7B\u522B\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7C7B\u522B\u540D\u79F0"}]}),(0,t.jsx)(D.Z,{name:"categoryDesc",label:"\u7C7B\u522B\u63CF\u8FF0"})]})]})}}}]);
