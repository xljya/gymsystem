"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[100],{13333:function(x,I,r){r.d(I,{Hb:function(){return S},NK:function(){return U},RL:function(){return h},w4:function(){return K},zN:function(){return B}});var M=r(15009),m=r.n(M),A=r(97857),d=r.n(A),R=r(99289),E=r.n(R),b=r(34955);function B(n,t){return j.apply(this,arguments)}function j(){return j=E()(m()().mark(function n(t,o){return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.Z)("/api/coach/add",d()({method:"POST",headers:{"Content-Type":"application/json"},data:t},o||{})));case 1:case"end":return e.stop()}},n)})),j.apply(this,arguments)}function S(n,t){return T.apply(this,arguments)}function T(){return T=E()(m()().mark(function n(t,o){return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.Z)("/api/coach/delete",d()({method:"POST",headers:{"Content-Type":"application/json"},data:t},o||{})));case 1:case"end":return e.stop()}},n)})),T.apply(this,arguments)}function P(n,t){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/coach/get",_objectSpread({method:"GET",params:_objectSpread({},t)},o||{})));case 1:case"end":return e.stop()}},n)})),D.apply(this,arguments)}function L(n,t){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/coach/get/vo",_objectSpread({method:"GET",params:_objectSpread({},t)},o||{})));case 1:case"end":return e.stop()}},n)})),C.apply(this,arguments)}function U(n){return O.apply(this,arguments)}function O(){return O=E()(m()().mark(function n(t){return m()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,b.Z)("/api/coach/list/addresses",d()({method:"GET"},t||{})));case 1:case"end":return s.stop()}},n)})),O.apply(this,arguments)}function h(n,t){return v.apply(this,arguments)}function v(){return v=E()(m()().mark(function n(t,o){return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.Z)("/api/coach/list/page/vo",d()({method:"POST",headers:{"Content-Type":"application/json"},data:t},o||{})));case 1:case"end":return e.stop()}},n)})),v.apply(this,arguments)}function W(n,t){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/coach/register",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},o||{})));case 1:case"end":return e.stop()}},n)})),u.apply(this,arguments)}function K(n,t){return p.apply(this,arguments)}function p(){return p=E()(m()().mark(function n(t,o){return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,b.Z)("/api/coach/update",d()({method:"POST",headers:{"Content-Type":"application/json"},data:t},o||{})));case 1:case"end":return e.stop()}},n)})),p.apply(this,arguments)}},97289:function(x,I,r){r.r(I);var M=r(97857),m=r.n(M),A=r(15009),d=r.n(A),R=r(99289),E=r.n(R),b=r(5574),B=r.n(b),j=r(96906),S=r(51930),T=r(37476),P=r(5966),D=r(64317),L=r(50335),C=r(67294),U=r(95715),O=r(66309),h=r(2453),v=r(13333),W=r(34955),u=r(85893),K=[{dataIndex:"coachId",valueType:"index",width:48,title:"\u5E8F\u53F7",hideInSearch:!0,editable:!1,render:function(n,t,o){return o+1}},{title:"\u6559\u7EC3\u540D\u79F0",dataIndex:"coachName",copyable:!0,ellipsis:!0,formItemProps:{rules:[{required:!0,message:"\u6B64\u9879\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u6559\u7EC3\u8D26\u53F7",dataIndex:"coachAccount",copyable:!0,ellipsis:!0,editable:!1},{title:"\u5934\u50CF",dataIndex:"coachAvatar",width:100,render:function(n,t){return(0,u.jsx)("div",{style:{width:"100%",textAlign:"center"},children:(0,u.jsx)(U.Z,{src:t.coachAvatar||"https://liuyueyue.top/images/preview.jpg",width:50,height:50,style:{objectFit:"cover"}})})}},{title:"\u6027\u522B",dataIndex:"gender",valueEnum:{0:{text:"\u672A\u77E5",status:"Default"},1:{text:"\u7537",status:"Success"},2:{text:"\u5973",status:"Error"}}},{title:"\u5E74\u9F84",dataIndex:"coachAge",hideInSearch:!0},{title:"\u8BFE\u7A0B\u7C7B\u578B",dataIndex:"courseType",hideInSearch:!0},{title:"\u85AA\u8D44",dataIndex:"coachSalary",hideInSearch:!0},{title:"\u5730\u5740",dataIndex:"coachAddress",hideInSearch:!0},{title:"\u5165\u804C\u65E5\u671F",dataIndex:"entryDate",valueType:"date",hideInSearch:!0},{title:"\u72B6\u6001",dataIndex:"coachStatus",valueEnum:{0:{text:"\u5728\u804C",status:"Success"},1:{text:"\u79BB\u804C",status:"Error"}},render:function(n,t){var o=t.coachStatus===0?"success":"error";return(0,u.jsx)(O.Z,{color:o,children:t.coachStatus===0?"\u5728\u804C":"\u79BB\u804C"})}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",sorter:!0,hideInSearch:!0,editable:!1},{title:"\u64CD\u4F5C",valueType:"option",render:function(n,t,o,s){return[(0,u.jsx)("a",{onClick:function(){if(t.coachId){var l;s==null||(l=s.startEditable)===null||l===void 0||l.call(s,t.coachId)}},children:"\u7F16\u8F91"},"editable"),(0,u.jsx)(j.Z,{onSelect:function(l){l==="delete"&&t.coachId&&(0,v.Hb)({id:t.coachId}).then(function(a){console.log("\u5220\u9664\u54CD\u5E94:",a),a?(h.ZP.success("\u5220\u9664\u6210\u529F"),s==null||s.reload()):h.ZP.error("\u5220\u9664\u5931\u8D25")}).catch(function(a){console.error("\u5220\u9664\u9519\u8BEF:",a),h.ZP.error("\u5220\u9664\u5931\u8D25")})},menus:[{key:"delete",name:"\u5220\u9664"}]},"actionGroup")]}}];I.default=function(){var p=(0,C.useRef)(),n=(0,C.useState)(!1),t=B()(n,2),o=t[0],s=t[1],e=function(){var l=E()(d()().mark(function a(i){var g,_;return d()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,(0,v.zN)(i);case 3:g=c.sent,console.log("\u65B0\u589E\u54CD\u5E94:",g),g?(h.ZP.success("\u6DFB\u52A0\u6210\u529F"),s(!1),(_=p.current)===null||_===void 0||_.reload()):h.ZP.error("\u6DFB\u52A0\u5931\u8D25"),c.next=12;break;case 8:c.prev=8,c.t0=c.catch(0),console.error("\u6DFB\u52A0\u9519\u8BEF:",c.t0),h.ZP.error("\u6DFB\u52A0\u5931\u8D25");case 12:case"end":return c.stop()}},a,null,[[0,8]])}));return function(i){return l.apply(this,arguments)}}();return(0,u.jsxs)("div",{style:{minHeight:"calc(100vh - 120px)",paddingBottom:"120px",marginBottom:"60px"},children:[(0,u.jsx)(S.Z,{columns:K,actionRef:p,cardBordered:!0,toolBarRender:function(){return[(0,u.jsx)("a",{onClick:function(){s(!0)},children:"\u65B0\u589E\u6559\u7EC3"},"add")]},request:function(){var l=E()(d()().mark(function a(i){var g;return d()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return console.log("\u8BF7\u6C42\u53C2\u6570:",i),f.next=3,(0,W.Z)("/api/coach/list/page/vo",{method:"POST",data:{current:i.current,pageSize:i.pageSize,coachName:i.coachName,coachAccount:i.coachAccount,gender:i.gender}});case 3:return g=f.sent,console.log("\u54CD\u5E94\u6570\u636E:",g),f.abrupt("return",{data:g.records||[],success:!0,total:Number(g.total)||0});case 6:case"end":return f.stop()}},a)}));return function(a){return l.apply(this,arguments)}}(),editable:{type:"single",onSave:function(){var l=E()(d()().mark(function i(g,_){var f,c;return d()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,y.next=3,(0,v.w4)({coachId:_.coachId,coachName:_.coachName,coachAvatar:_.coachAvatar,gender:_.gender,coachAge:_.coachAge,courseType:_.courseType,coachSalary:_.coachSalary,coachAddress:_.coachAddress,entryDate:_.entryDate,coachStatus:_.coachStatus});case 3:f=y.sent,console.log("\u66F4\u65B0\u54CD\u5E94:",f),f?(h.ZP.success("\u66F4\u65B0\u6210\u529F"),(c=p.current)===null||c===void 0||c.reload()):h.ZP.error("\u66F4\u65B0\u5931\u8D25"),y.next=12;break;case 8:y.prev=8,y.t0=y.catch(0),console.error("\u66F4\u65B0\u9519\u8BEF:",y.t0),h.ZP.error("\u66F4\u65B0\u5931\u8D25");case 12:case"end":return y.stop()}},i,null,[[0,8]])}));function a(i,g){return l.apply(this,arguments)}return a}()},columnsState:{persistenceKey:"pro-table-singe-demos",persistenceType:"localStorage",defaultValue:{option:{fixed:"right",disable:!0}},onChange:function(a){console.log("value: ",a)}},rowKey:"coachId",search:{labelWidth:"auto"},options:{setting:{listsHeight:400}},form:{syncToUrl:function(a,i){return i==="get"?m()(m()({},a),{},{created_at:[a.startTime,a.endTime]}):a}},pagination:{pageSize:5,onChange:function(a){return console.log(a)}},dateFormatter:"string",headerTitle:""}),(0,u.jsxs)(T.Y,{title:"\u65B0\u589E\u6559\u7EC3",width:"400px",open:o,onOpenChange:s,onFinish:function(){var l=E()(d()().mark(function a(i){return d()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,e(i);case 2:case"end":return _.stop()}},a)}));return function(a){return l.apply(this,arguments)}}(),children:[(0,u.jsx)(P.Z,{name:"coachName",label:"\u6559\u7EC3\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6559\u7EC3\u540D\u79F0"}]}),(0,u.jsx)(P.Z,{name:"coachAccount",label:"\u6559\u7EC3\u8D26\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6559\u7EC3\u8D26\u53F7"},{min:4,message:"\u8D26\u53F7\u957F\u5EA6\u4E0D\u80FD\u5C0F\u4E8E4\u4F4D"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u8D26\u53F7\u53EA\u80FD\u5305\u542B\u5B57\u6BCD\u3001\u6570\u5B57\u548C\u4E0B\u5212\u7EBF"}]}),(0,u.jsx)(D.Z,{name:"gender",label:"\u6027\u522B",valueEnum:{0:"\u672A\u77E5",1:"\u7537",2:"\u5973"},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6027\u522B"}]}),(0,u.jsx)(P.Z,{name:"coachAge",label:"\u5E74\u9F84",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5E74\u9F84"}]}),(0,u.jsx)(P.Z,{name:"courseType",label:"\u8BFE\u7A0B\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8BFE\u7A0B\u7C7B\u578B"}]}),(0,u.jsx)(P.Z,{name:"coachSalary",label:"\u85AA\u8D44",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u85AA\u8D44"}]}),(0,u.jsx)(P.Z,{name:"coachAddress",label:"\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5730\u5740"}]}),(0,u.jsx)(L.Z,{name:"entryDate",label:"\u5165\u804C\u65E5\u671F",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5165\u804C\u65E5\u671F"}]})]})]})}}}]);
