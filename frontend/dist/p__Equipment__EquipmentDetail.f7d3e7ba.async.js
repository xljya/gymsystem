"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[107],{41482:function(X,z,r){r.d(z,{Ih:function(){return F},_6:function(){return L},jT:function(){return f},q5:function(){return K},rC:function(){return W}});var Z=r(15009),_=r.n(Z),$=r(97857),C=r.n($),G=r(99289),u=r.n(G),t=r(34955);function W(s,l){return E.apply(this,arguments)}function E(){return E=u()(_()().mark(function s(l,b){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.Z)("/api/equipment/add",C()({method:"POST",headers:{"Content-Type":"application/json"},data:l},b||{})));case 1:case"end":return e.stop()}},s)})),E.apply(this,arguments)}function F(s,l){return P.apply(this,arguments)}function P(){return P=u()(_()().mark(function s(l,b){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.Z)("/api/equipment/delete",C()({method:"POST",headers:{"Content-Type":"application/json"},data:l},b||{})));case 1:case"end":return e.stop()}},s)})),P.apply(this,arguments)}function A(s,l){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function s(l,b){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/equipment/get",_objectSpread({method:"GET",params:_objectSpread({},l)},b||{})));case 1:case"end":return e.stop()}},s)})),o.apply(this,arguments)}function L(s,l){return R.apply(this,arguments)}function R(){return R=u()(_()().mark(function s(l,b){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.Z)("/api/equipment/get/vo",C()({method:"GET",params:C()({},l)},b||{})));case 1:case"end":return e.stop()}},s)})),R.apply(this,arguments)}function K(s,l){return I.apply(this,arguments)}function I(){return I=u()(_()().mark(function s(l,b){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.Z)("/api/equipment/list/page/vo",C()({method:"POST",headers:{"Content-Type":"application/json"},data:l},b||{})));case 1:case"end":return e.stop()}},s)})),I.apply(this,arguments)}function f(s,l){return V.apply(this,arguments)}function V(){return V=u()(_()().mark(function s(l,b){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,t.Z)("/api/equipment/update",C()({method:"POST",headers:{"Content-Type":"application/json"},data:l},b||{})));case 1:case"end":return e.stop()}},s)})),V.apply(this,arguments)}},57636:function(X,z,r){r.d(z,{z:function(){return A}});var Z=r(97857),_=r.n(Z),$=r(13769),C=r.n($),G=r(67294),u=r(88426),t=r(12003),W=r(27080),E=r(85893),F=["className","variant","size","asChild"],P=(0,t.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),A=G.forwardRef(function(o,L){var R=o.className,K=o.variant,I=o.size,f=o.asChild,V=f===void 0?!1:f,s=C()(o,F),l=V?u.g7:"button";return(0,E.jsx)(l,_()({className:(0,W.cn)(P({variant:K,size:I,className:R})),ref:L},s))});A.displayName="Button"},87959:function(X,z,r){r.d(z,{Z:function(){return F}});var Z=r(97857),_=r.n(Z),$=r(13769),C=r.n($),G=r(67294),u=r(12780),t=r(27080),W=r(85893),E=["className","orientation","decorative"],F=G.forwardRef(function(P,A){var o=P.className,L=P.orientation,R=L===void 0?"horizontal":L,K=P.decorative,I=K===void 0?!0:K,f=C()(P,E);return(0,W.jsx)(u.f,_()({ref:A,decorative:I,orientation:R,className:(0,t.cn)("shrink-0 bg-border",R==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",o)},f))});F.displayName=u.f.displayName},61265:function(X,z,r){r.r(z),r.d(z,{default:function(){return fe}});var Z=r(15009),_=r.n(Z),$=r(99289),C=r.n($),G=r(5574),u=r.n(G),t=r(67294),W=r(20057),E=r(57636),F=r(87959),P=r(81427),A=r(53219),o=r(2453),L=r(74330),R=r(32983),K=r(41482),I=r(97857),f=r.n(I),V=r(13769),s=r.n(V),l=r(89382),b=r(82701),M=r(27080),e=r(85893),ue=["orientation","opts","setApi","plugins","className","children"],de=["className"],ce=["className"],me=["className","variant","size"],pe=["className","variant","size"],ae=t.createContext(null);function H(){var a=t.useContext(ae);if(!a)throw new Error("useCarousel must be used within a <Carousel />");return a}var se=t.forwardRef(function(a,O){var j=a.orientation,d=j===void 0?"horizontal":j,g=a.opts,y=a.setApi,i=a.plugins,T=a.className,S=a.children,w=s()(a,ue),v=(0,l.Z)(f()(f()({},g),{},{axis:d==="horizontal"?"x":"y"}),i),U=u()(v,2),k=U[0],n=U[1],q=t.useState(!1),J=u()(q,2),ee=J[0],re=J[1],te=t.useState(!1),N=u()(te,2),c=N[0],D=N[1],x=t.useCallback(function(B){B&&(re(B.canScrollPrev()),D(B.canScrollNext()))},[]),m=t.useCallback(function(){n==null||n.scrollPrev()},[n]),h=t.useCallback(function(){n==null||n.scrollNext()},[n]),Q=t.useCallback(function(B){B.key==="ArrowLeft"?(B.preventDefault(),m()):B.key==="ArrowRight"&&(B.preventDefault(),h())},[m,h]);return t.useEffect(function(){!n||!y||y(n)},[n,y]),t.useEffect(function(){if(n)return x(n),n.on("reInit",x),n.on("select",x),function(){n==null||n.off("select",x)}},[n,x]),(0,e.jsx)(ae.Provider,{value:{carouselRef:k,api:n,opts:g,orientation:d||((g==null?void 0:g.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:h,canScrollPrev:ee,canScrollNext:c},children:(0,e.jsx)("div",f()(f()({ref:O,onKeyDownCapture:Q,className:(0,M.cn)("relative",T),role:"region","aria-roledescription":"carousel"},w),{},{children:S}))})});se.displayName="Carousel";var ne=t.forwardRef(function(a,O){var j=a.className,d=s()(a,de),g=H(),y=g.carouselRef,i=g.orientation;return(0,e.jsx)("div",{ref:y,className:"overflow-hidden",children:(0,e.jsx)("div",f()({ref:O,className:(0,M.cn)("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",j)},d))})});ne.displayName="CarouselContent";var Y=t.forwardRef(function(a,O){var j=a.className,d=s()(a,ce),g=H(),y=g.orientation;return(0,e.jsx)("div",f()({ref:O,role:"group","aria-roledescription":"slide",className:(0,M.cn)("min-w-0 shrink-0 grow-0 basis-full",y==="horizontal"?"pl-4":"pt-4",j)},d))});Y.displayName="CarouselItem";var le=t.forwardRef(function(a,O){var j=a.className,d=a.variant,g=d===void 0?"outline":d,y=a.size,i=y===void 0?"icon":y,T=s()(a,me),S=H(),w=S.orientation,v=S.scrollPrev,U=S.canScrollPrev;return(0,e.jsxs)(E.z,f()(f()({ref:O,variant:g,size:i,className:(0,M.cn)("absolute  h-8 w-8 rounded-full",w==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",j),disabled:!U,onClick:v},T),{},{children:[(0,e.jsx)(A.Z,{className:"h-4 w-4"}),(0,e.jsx)("span",{className:"sr-only",children:"Previous slide"})]}))});le.displayName="CarouselPrevious";var ie=t.forwardRef(function(a,O){var j=a.className,d=a.variant,g=d===void 0?"outline":d,y=a.size,i=y===void 0?"icon":y,T=s()(a,pe),S=H(),w=S.orientation,v=S.scrollNext,U=S.canScrollNext;return(0,e.jsxs)(E.z,f()(f()({ref:O,variant:g,size:i,className:(0,M.cn)("absolute h-8 w-8 rounded-full",w==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",j),disabled:!U,onClick:v},T),{},{children:[(0,e.jsx)(b.Z,{className:"h-4 w-4"}),(0,e.jsx)("span",{className:"sr-only",children:"Next slide"})]}))});ie.displayName="CarouselNext";var _e=function(){var O=(0,W.UO)(),j=O.id,d=(0,W.s0)(),g=(0,t.useState)(null),y=u()(g,2),i=y[0],T=y[1],S=(0,t.useState)(null),w=u()(S,2),v=w[0],U=w[1],k=(0,t.useState)(!0),n=u()(k,2),q=n[0],J=n[1];if((0,t.useEffect)(function(){if(j){var N=function(){var c=C()(_()().mark(function D(){var x,m,h,Q,B,oe;return _()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(J(!0),p.prev=1,x=Number(j),!isNaN(x)){p.next=8;break}return o.ZP.error("\u65E0\u6548\u7684\u5668\u68B0ID"),T(null),d("/equipment"),p.abrupt("return");case 8:return p.next=10,(0,K._6)({eqId:x});case 10:if(m=p.sent,h=null,m&&typeof m.code=="number"?m.code===0?h=m.data:o.ZP.error(m.message||"\u83B7\u53D6\u5668\u68B0\u8BE6\u60C5\u5931\u8D25"):m&&m.eqId&&(h=m),h){T(h);try{Q=h.images?JSON.parse(h.images):[],B=h.features?JSON.parse(h.features):[],oe=h.specifications?JSON.parse(h.specifications):{},U({images:Q,features:B,specifications:oe})}catch(ve){console.error("Failed to parse equipment data JSON:",ve),o.ZP.error("\u89E3\u6790\u5668\u68B0\u6570\u636E\u65F6\u51FA\u9519"),U({images:[],features:[],specifications:{}})}}else m&&typeof m.code=="number"||o.ZP.error("\u83B7\u53D6\u5668\u68B0\u8BE6\u60C5\u5931\u8D25\u6216\u6570\u636E\u4E3A\u7A7A"),T(null);p.next=21;break;case 16:p.prev=16,p.t0=p.catch(1),console.error("\u83B7\u53D6\u5668\u68B0\u8BE6\u60C5\u5931\u8D25:",p.t0),o.ZP.error((p.t0===null||p.t0===void 0?void 0:p.t0.message)||"\u83B7\u53D6\u5668\u68B0\u8BE6\u60C5\u5931\u8D25\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"),T(null);case 21:return p.prev=21,J(!1),p.finish(21);case 24:case"end":return p.stop()}},D,null,[[1,16,21,24]])}));return function(){return c.apply(this,arguments)}}();N()}else o.ZP.error("\u672A\u63D0\u4F9B\u5668\u68B0ID"),J(!1),d("/equipment")},[j,d]),q)return(0,e.jsx)("div",{className:"min-h-[calc(100vh-200px)] flex flex-col items-center justify-center",children:(0,e.jsx)(L.Z,{size:"large",tip:"\u52A0\u8F7D\u5668\u68B0\u8BE6\u60C5\u4E2D..."})});if(!i)return(0,e.jsx)("div",{className:"min-h-[calc(100vh-200px)] flex flex-col items-center justify-center text-center p-8",children:(0,e.jsx)(R.Z,{image:(0,e.jsx)(P.Z,{className:"w-24 h-24 text-gym-gray opacity-50 mx-auto"}),description:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("h2",{className:"text-2xl font-bold mb-3 text-gym-gray-dark",children:"\u5668\u68B0\u672A\u627E\u5230"}),(0,e.jsx)("p",{className:"text-gym-gray mb-6",children:"\u62B1\u6B49\uFF0C\u60A8\u67E5\u627E\u7684\u5668\u68B0\u4E0D\u5B58\u5728\u6216\u5DF2\u88AB\u79FB\u9664\u3002"})]}),children:(0,e.jsxs)(E.z,{onClick:function(){return d("/equipment")},className:"bg-gym-primary hover:bg-gym-primary/90",children:[(0,e.jsx)(A.Z,{className:"w-4 h-4 mr-2"}),"\u8FD4\u56DE\u5668\u68B0\u5217\u8868"]})})});var ee=function(c,D){return D?(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gym-primary mb-1 mt-3",children:c}),(0,e.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:D})]}):null},re=function(c){return!c||c.length===0?null:(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gym-primary mb-2 mt-3",children:"\u4EA7\u54C1\u7279\u6027"}),(0,e.jsx)("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:c.map(function(D,x){return(0,e.jsx)("li",{children:D},x)})})]})},te=function(c){return!c||Object.keys(c).length===0?null:(0,e.jsxs)("div",{children:[(0,e.jsx)("h3",{className:"text-lg font-semibold text-gym-primary mb-2 mt-3",children:"\u89C4\u683C\u53C2\u6570"}),(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2 text-gray-700",children:Object.entries(c).map(function(D){var x=u()(D,2),m=x[0],h=x[1];return(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsxs)("span",{className:"font-semibold w-28 shrink-0",children:[m,":"]}),(0,e.jsx)("span",{children:h})]},m)})})]})};return(0,e.jsx)("div",{className:"min-h-[calc(100vh-150px)] flex flex-col",children:(0,e.jsx)("main",{className:"flex-grow py-8 md:py-12",children:(0,e.jsxs)("div",{className:"container mx-auto px-4",children:[(0,e.jsx)("div",{className:"mb-6",children:(0,e.jsxs)(E.z,{variant:"outline",className:"flex items-center text-gym-gray hover:text-gym-primary border-gym-gray/30 hover:border-gym-primary",onClick:function(){return d("/equipment")},children:[(0,e.jsx)(A.Z,{className:"w-4 h-4 mr-2"}),"\u8FD4\u56DE\u5668\u68B0\u5217\u8868"]})}),(0,e.jsx)("div",{className:"bg-white shadow-xl rounded-lg p-6 md:p-10",children:(0,e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[(0,e.jsx)("div",{className:"space-y-4",children:(0,e.jsxs)(se,{className:"w-full",children:[(0,e.jsx)(ne,{children:v!=null&&v.images&&v.images.length>0?v.images.map(function(N,c){return(0,e.jsx)(Y,{children:(0,e.jsx)("div",{className:"h-[650px] overflow-hidden rounded-lg border",children:(0,e.jsx)("img",{src:N||"/placeholder-image.png",alt:"".concat(i.eqName||"\u5668\u68B0\u56FE\u7247"," ").concat(c+1),className:"w-full h-full object-cover",onError:function(x){x.target.src="/placeholder-image.png"}})})},c)}):(0,e.jsx)(Y,{children:(0,e.jsx)("div",{className:"h-[650px] overflow-hidden rounded-lg border",children:(0,e.jsx)("img",{src:i.image||"/placeholder-image.png",alt:i.eqName||"\u5668\u68B0\u56FE\u7247",className:"w-full h-full object-cover",onError:function(c){c.target.src="/placeholder-image.png"}})})})}),(0,e.jsx)(le,{className:"left-2"}),(0,e.jsx)(ie,{className:"right-2"})]})}),(0,e.jsxs)("div",{className:"flex flex-col",children:[i.categoryName&&(0,e.jsx)("p",{className:"text-sm text-gym-accent font-medium mb-1",children:i.categoryName}),(0,e.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gym-primary-dark mb-3",children:i.eqName}),i.shortDescription&&(0,e.jsx)("p",{className:"text-gray-600 text-lg mb-4",children:i.shortDescription}),(0,e.jsx)(F.Z,{className:"my-6"}),(0,e.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,e.jsxs)("p",{children:[(0,e.jsx)("span",{className:"font-semibold text-gray-600",children:"\u8BBE\u5907ID:"})," ",i.eqId]}),ee("\u8BE6\u7EC6\u63CF\u8FF0",i.description),re(v==null?void 0:v.features),te(v==null?void 0:v.specifications),i.createTime&&(0,e.jsxs)("p",{className:"mt-3",children:[(0,e.jsx)("span",{className:"font-semibold text-gray-600",children:"\u4E0A\u67B6\u65E5\u671F:"})," ",new Date(i.createTime).toLocaleDateString()]})]}),(0,e.jsx)("div",{className:"mt-auto pt-8",children:(0,e.jsx)(E.z,{size:"lg",className:"w-full bg-gym-primary hover:bg-gym-primary/90 text-white py-3",onClick:function(){return o.ZP.info("\u5982\u9700\u5E2E\u52A9\u6216\u62A5\u4FEE\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u3002")},children:"\u83B7\u53D6\u5E2E\u52A9 / \u62A5\u4FEE"})})]})]})})]})})})},fe=_e}}]);
